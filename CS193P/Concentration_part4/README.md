[스탠포드] Swift를 활용한 iOS11 앱 개발


4강. Swift 프로그래밍 언어 - Part 2




핵심 키워드
- Mutating
- Protocol
- 클로저
- String



클래스 -> 구조체 데모
- 클래스에 구현한 메서드 앞에 mutating 을 붙여 객체를 바꾸는 함수라 알린다.
- 변수의 경우에는 var 인지 let 인지, 그기고 계산된 속성의 get 과 set 이 모두 있는지에 달려있다.
- 그래서 함수에만 mutating 을 붙여주면 된다.
- 바꾸는 이유? 참조타입 대신 값타입으로, 구조체는 계속해서 전체를 복사, 스위프트에선 내용이 변경될 때만 복제, 쓰기 시 복사 방식
- 클래스는 힙 내부에 존재, 그저 포인터를 전달하는 방식



프로토콜
- 스위프트의 자료구조 형성하는 기둥들 : 클래스, 구조체, 열거형, 프로토콜
- 별도의 구현이 없는 메소드와 변수의 리스트, API 에서 원하는 것을 불러오는 방식
- API 를 매우 유연하고 더 잘 이해할 수 있도록 만든다. 블라인드 커뮤니케이션 구조에 유용. 
(MVC 에서 V 와 C 사이, will, did, should 와 데이터, 카운트 등 모두 블라인드 상태여야 한다. -> 뷰는 일반적, 컨트롤러는 매우 구체적, 프로토콜은 구현, 권한 주기에 유용)
- 또 서로 다른 타입끼리 기능 공유에 유용
- 다중 상속 가능, 순수하게 기능만 상속

- 프로토콜의 3가지 모습 (가장 중요한 점은 프로토콜은 단지 리턴값을 가지는 메소드와 변수의 리스트라는 점, 구현은 다른 타입들이, 저장 공간은 다른 타입에)
- (선언)프로토콜 선언: 다른 자료구조 타입과 같다, 리턴값을 가지는 메소드와 변수의 리스트
- (구현)다른 타입이 프로토콜의 메소드와 변수 구현
- (코드)프로토콜의 메소드와 변수 구현하는 클래스나 구조체나 열겨형

- 프로토콜 내에 있는 어떤 메소드던, 구조체에 의해 구현되어서 그 내용을 수정한다면, mutating 표시를 해줘야 한다.
- 반대로 프로토콜이 절대 구조체에서 구현되지 않을 거라는 걸 안다면, 클래스만 받는 프로토콜임을 표시, class
- 만약 프로토콜 내에 init 이 있고, 클래스로 프로토콜을 구현하려고 한다면, init 이 required 표시가 되어 있어야 한다.

- 프로토콜의 용도
- MVC 델리게이션
- Hashable, Equatable (Concentration 예제)
- 다중 상속 : CountableRange, Sequence, Collection (프로토콜의 익스텐션)



문자열
- 유니코드, ASCII
- 문자열의 인덱싱 String.Index 타입, index(of: ) / components(separatedBy: )
- NSAttributedString : 각각의 문자가 속성을 갖고 있는 문자열



함수 타입
- var operation: (Double) -> Double
- 클로저 문법 활용 : map 메서드, property initialization (lazy), capturing
- 클로저는 참조타입, 함수
